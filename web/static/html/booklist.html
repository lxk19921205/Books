{% extends "base_nav.html" %}
<!-- no need to set active_nav, it is passed in by server -->

{% block head_title %}{{title}}{% endblock %}

{% block head_less %}
	<link rel="stylesheet" type="text/less" href="/css/booklist.less"/>
{% endblock head_less %}

{% block head_js %}
<!-- Nothing extra is needed -->
{% endblock head_js %}

{% block body_content_with_nav %}
	{% if books %}
	<!-- There are books in the datastore, show them! -->
	<div>
		{% for book in books %}
			{% include "_book_full.html" %}
		{% endfor %}
	</div>
	{% else %}
	<!-- No books fetched, consider importing from Douban? -->
	<section class="import_hint">
		<h1>No books here :(</h1>
		<h3>You may</h3>
		<ul>
			<li>
				Import from <img src="/img/douban.png" title="豆瓣"> and all following operations will sync to it.
				<form method="post">
					<button class="import_button">Import Now</button>
				</form>
			</li>
			<li><a href="/explore/random">
				Randomly explore some?
			</a></li>
		</ul>
	</section>
	{% endif %}
{% endblock body_content_with_nav %}

{% block body_js %}
<!-- No extra js code is needed
	<script type="text/javascript">
	</script>
-->
{% endblock body_js %}
